---
layout: default
title: Graph and Calculation Example
---

<div style="width: 50%; float: left;">
    <canvas id="myChart"></canvas>
</div>

<div style="width: 45%; float: left; margin-left: 5%;">
    <label for="userInputY">Enter a value for y:</label>
    <input type="number" id="userInputY" name="userInputY" step="0.01" value="0.465">
    <button onclick="calculateX()">Calculate x</button>
    
    <p id="calculatedX"></p>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Provided data points
const dataPoints = [
    { x: 1, y: 0.465 },
    { x: 0.5, y: -0.035 },
    { x: 0.25, y: -0.285 },
    { x: 0.125, y: -0.41 },
    { x: 0.75, y: 0.215 },
    { x: 0.375, y: -0.16 },
    { x: 0.1875, y: -0.3475 },
    { x: 0.09375, y: -0.44125 }
];

// Prepare data for the plot
const labels = dataPoints.map(point => point.x);
const data = dataPoints.map(point => point.y);

// Function to compute y from x using the equation y = -0.9959x^2 + 2.1182x
function computeY(x) {
    return -0.9959 * Math.pow(x, 2) + 2.1182 * x;
}

// Generate best-fit curve points
const bestFitData = [];
for (let x = 0; x <= 1; x += 0.01) {
    bestFitData.push({ x: x, y: computeY(x) });
}

// Create the chart
document.addEventListener('DOMContentLoaded', function() {
    const ctx = document.getElementById('myChart').getContext('2d');
    const chart = new Chart(ctx, {
        type: 'scatter',
        data: {
            datasets: [
                {
                    label: 'Data Points',
                    data: dataPoints,
                    backgroundColor: 'rgba(0, 123, 255, 0.6)',
                    showLine: false,
                    pointRadius: 5
                },
                {
                    label: 'Best Fit Line',
                    data: bestFitData,
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 2,
                    showLine: true,
                    fill: false,
                    pointRadius: 0
                }
            ]
        },
        options: {
            scales: {
                x: {
                    type: 'linear',
                    position: 'bottom',
                    title: {
                        display: true,
                        text: 'x'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'y'
                    }
                }
            }
        }
    });
});

// Function to calculate x from the provided y value
function calculateX() {
    const yValue = parseFloat(document.getElementById('userInputY').value);

    // Quadratic equation coefficients: ax^2 + bx + c = 0
    const a = -0.9959;
    const b = 2.1182;
    const c = -yValue;

    // Discriminant
    const discriminant = Math.pow(b, 2) - 4 * a * c;

    let x1, x2;
    if (discriminant >= 0) {
        x1 = (-b + Math.sqrt(discriminant)) / (2 * a);
        x2 = (-b - Math.sqrt(discriminant)) / (2 * a);
        document.getElementById('calculatedX').innerText = 
            `Calculated x values: x1 = ${x1.toFixed(5)}, x2 = ${x2.toFixed(5)}`;
    } else {
        document.getElementById('calculatedX').innerText = 'No real solutions for x.';
    }
}
</script>
